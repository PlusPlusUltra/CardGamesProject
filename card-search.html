<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
      background-color: lightblue;
      }
      
      ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
      background-color: #0000dd;
      overflow: hidden;
      }
      
      li {
      float: left;
      border-right: 2px solid #000;
      }

      li a {
      display: block;
      color: #000;
      padding: 16px 32px;
      text-decoration: none;
      text-align: center;
      }
      
      li a:hover {
      background-color: #aa0055;
      color: white;
      }

      h1{
      text-align: center;
      size: 300%;
      color: blue;
      
      }
    </style>
  </head>
  <body>

    <ul>
      <li><a href="raw-scheme.html">schema</a></li>
      <li><a href="card-search.html">Card Search</a></li>
    </ul>


    carta: <input type="text" id="name">
    <button type="button" onclick="loadDoc()">cerca carta</button>
    <p id="card">card will appear here: black magic :)</p>
    


    <script>
      function loadDoc() {
      
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
      
      if (this.readyState == 4 && this.status == 200) {

      if(this.responseText.indexOf("No card matching your query was found in the database") == -1){
      
      var myObj = JSON.parse(this.responseText)[0];

      
      txt="<table border='1'>"+
	"<tr><td>name</td><td>"+myObj.name+"</td></tr>"+
	"<tr><td>card type</td><td>"+myObj.type+"</td></tr>"+
	"<tr><td>text</td><td>"+myObj.desc+ "</td></tr>"+
	"<tr><td>archetype</td><td>"+myObj.archetype+"</td></tr>"+	
      "</table>";

      
      document.getElementById("card").innerHTML = txt;
      }else{
      document.getElementById("card").innerHTML = "No card matching your query was found in the database";
      }
      }
      }
      xhttp.open("GET", "https://db.ygoprodeck.com/api/cardinfo.php?name="+document.getElementById("name").value, true);
      xhttp.send();
      }
    </script>

  </body>
</html>
